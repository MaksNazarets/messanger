<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/media-queries.css">
    <title>MyMessanger: {{ user.first_name }} {{ user.last_name }}</title>
</head>

<body>
    <noscript>Для роботи сервісу обов'язковий дозвіл використовувати javascript...</noscript>
    <main>
        <section class="left-panel">
            <div class="account-wrapper">
                <div class="acc-wrapper-prof-photo" style="background-image: url('/{{ user.id }}/profile-photo')"></div>
                <span class="current-user_name">{{ user.first_name }} {{ user.last_name }}</span>
                <span class="premium-status-label"
                    style="background-image: url('/static/img/{{ 'star-premium-min.png' if user['has_premium'] else 'star-not-premium-min.png' }}')"></span>
            </div>
            <div class="search-wrapper">
                <input type="text" id="search-input" placeholder="Search">
            </div>
            <div class="chat-list-wrapper">
                <div class="chat-list">
                    <!-- <div class="chat-item">
                        <div class="chat-item__profile-photo">S</div>
                        <div class="chat-item__username-wrapper"><span>Some User</span></div>
                        <div class="chat-item__unread-label">5</div>
                    </div> -->
                    <div class="empty-label hidden"><span>Ви ще не розпочали жодного чату...</span></div>
                </div>
                <div class="result-list hidden">
                    <div class="empty-label hidden"><span>Нічого не знайдено...</span></div>
                </div>
            </div>
            <a href="{{url_for('logout')}}" id="logout-btn">Вихід</a>
        </section>
        <section class="right-panel hidden">
            <div class="chat-name_wrapper">
                <span class="chat-exit-btn">
                    <svg fill="#000000" height="200px" width="200px" version="1.1" id="Capa_1"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 25.451 25.451" xml:space="preserve">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <g>
                                <g id="c185_triangle">
                                    <path
                                        d="M20.982,0.521v2.006L8.57,12.315c-0.121,0.101-0.195,0.251-0.195,0.41s0.074,0.311,0.195,0.41l12.412,9.79v2.005 c0,0.199-0.115,0.383-0.297,0.469c-0.178,0.086-0.395,0.064-0.549-0.061L4.664,13.136c-0.122-0.1-0.194-0.251-0.194-0.41 s0.072-0.31,0.194-0.41L20.136,0.113c0.154-0.126,0.371-0.148,0.549-0.061C20.866,0.139,20.982,0.322,20.982,0.521z">
                                    </path>
                                </g>
                                <g id="Capa_1_58_"> </g>
                            </g>
                        </g>
                    </svg>
                </span>
                <div class="companion-info">
                    <div class="chat-name__profile-photo">M</div>
                    <div class="chat-name__username"><span>Den</span></div>
                </div>
            </div>
            <div class="chat-container">
                <div class="chat-scrollable">
                    <!-- <div class="message my-msg">
                            <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod
                                exercitationem doloribus deserunt eius voluptatum perspiciatis.</span>
                            <div class="msg-meta">
                                <span class="sent-at-time">15:20</span>
                                <img class="delivery-status" src="/static/img/check-mark.svg" alt="check-mark">
                            </div>
                        </div>
                        <div class="date-divider"><span>15 квітня</span></div>
                        <div class="message my-msg">
                            <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod
                                exercitationem doloribus deserunt eius voluptatum perspiciatis.Lorem ipsum dolor sit amet
                                consectetur adipisicing dolor sit amet consectetur </span>
                            <div class="msg-meta">
                                <span class="sent-at-time">15:20</span>
                                <img class="delivery-status" src="/static/img/check-mark.svg" alt="check-mark">
                                <img class="delivery-status-succeeds" src="/static/img/check-mark.svg" alt="check-mark">
                            </div>
                        </div>
                        <div class="message my-msg">
                            <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod
                                exercitationem doloribus deserunt eius voluptatum perspiciatis.</span>
                            <div class="msg-meta">
                                <span class="sent-at-time">15:20</span>
                                <img class="delivery-status" src="/static/img/check-mark.svg" alt="check-mark">
                            </div>
                        </div> -->
                </div>
            </div>
            <div class="to-last-msg-btn hidden">
                <svg xmlns="http://www.w3.org/2000/svg" id="arrow" x="0" y="0" version="1.1" viewBox="0 0 29 29"
                    xml:space="preserve">
                    <path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round"
                        stroke-miterlimit="10" stroke-width="2" d="m20.5 11.5-6 6-6-6"></path>
                </svg>
            </div>
            <div class="new-message_wrapper">
                <input type="text" id="new-message_input" placeholder="Write a message...">
                
                {% if user.has_premium %}
                <button id="attach-file-button">
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53.61 53.61" xml:space="preserve"
                        fill="#000000">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path
                                style="fill:none;stroke:#ffffff;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10;"
                                d="M31.406,18.422L14.037,35.792 c-1.82,1.82-1.82,4.797,0,6.617l0,0c1.82,1.82,4.797,1.82,6.617,0l25.64-25.64c3.412-3.412,2.998-8.581-0.414-11.993l0,0 c-3.412-3.412-8.581-3.825-11.993-0.414L6.593,31.656c-4.549,4.549-4.549,11.993,0,16.542l0,0c4.549,4.549,11.993,4.549,16.542,0 l27.295-27.295">
                            </path>
                        </g>
                    </svg>
                </button>
                {% endif %}

                <button id="new-message_send-button">
                    <svg fill="#000000" height="200px" width="200px" version="1.1" id="Layer_1"
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        viewBox="0 0 507.167 507.167" xml:space="preserve">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <g>
                                <g>
                                    <path
                                        d="M2.139,282.317c-1.392,0.72-2.224,2.192-2.132,3.756c0.092,1.56,1.104,2.92,2.568,3.472l140.688,52.684L494.895,26.761 L2.139,282.317z">
                                    </path>
                                </g>
                            </g>
                            <g>
                                <g>
                                    <path
                                        d="M230.579,362.801l-21.864,117.252l64.188-95.552l150.676,62.976c1.1,0.46,2.356,0.4,3.408-0.16 c1.06-0.576,1.804-1.584,2.024-2.76l78.156-412.412L230.579,362.801z">
                                    </path>
                                </g>
                            </g>
                            <g>
                                <g>
                                    <path
                                        d="M151.775,350.577l44.768,129.828l22.608-121.312c0.192-0.996,0.632-1.932,1.288-2.716l225.904-270.08L151.775,350.577z">
                                    </path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </button>

                {% if user.has_premium %}
                <div class="attach-file-modal minimized hidden">
                    <input type="file" name="attached-files" id="attached-files" multiple>
                    <div class="file-container">
                       <span class="file-placeholder">
                        Нічого не вибрано...
                       </span>
                    </div>
                    <button class="choose-file-btn">вибрати файли</button>
                    <textarea name="file-title" id="file-title" rows="2" placeholder="підпис"></textarea>
                    <button class="send-file-btn" disabled>Відправити</button>
                </div>
                {% endif %}
            </div>
    </main>
    </section>

    <div class="no-network-wrapper hidden">
        <span>Очікування мережі...</span>
    </div>

    <script type="module" src="https://cdn.socket.io/4.6.0/socket.io.min.js"
        integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
        crossorigin="anonymous"></script>
    <script type="module" src="/static/js/custom_functions.js"></script>
    <script type="module" src="/static/js/main.js"></script>
</body>

</html>